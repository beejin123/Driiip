<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link href="../../../../public/Megarden.ico" rel="shortcut icon"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="../../../../extend/layui/css/layui.css">
        <script src="../../../../extend/layui/layui.js"></script>
		<title>花材养护</title>
		<style type="text/css">
			html{
				margin: 0;
				padding: 0;
			}
			.every{
				float: left;
				display: table-cell;
			  	text-align: center;
			  	vertical-align: middle;
			  	margin-top: 5px;
			}
			.image{
			    display: inline-block;
			    vertical-align: middle;
			    max-width: 100%;
			    max-height: 100%;
			    width: auto;
			    height: auto;
			}
			.title{
				width: 50%;
				text-align: center;
				position:absolute; 
				z-index:2;
				font-size: 1rem;
				color: #FFFFFF;
			}
			.search{
				width: 100%;
				height: 50px;
				background-color: rgb(242, 242, 242);
				position:relative;
			}
			.input{
				width: 80%;
				height: 34px;
				float: left;
				margin: auto;
				background-color: #FFFFFF;
				position: absolute;  
				top: 0; 
				left: 0; 
				bottom: 0; 
				right: 0;
				border-radius:5px;
				border: 0px;
				padding-left: 14px;
			}
			.button{
				width: 10%;
				height: 50px;
				float: right;

			}
		</style>
	</head>
	<body>
		<div class="search">
			<form action="{:url('index/index/index')}" method="get" class="form">
				<input class="input" name="title" type="search" placeholder="搜索名字"/>
			</form>
		</div>
		<div id="outside">
			<?php
				foreach ($article as $k => $v) {
					echo '<div class="every">';
					echo '<a href="'. url('index/index/detail', ['id' => $v['art_id']]) .'">';
					echo '<img class="image" src="'. 'http://' .$_SERVER['HTTP_HOST'] . '/' . $v['thumb']. '">';
					echo '</a>';
					echo '<p class="title">'. $v['title'] .'</p>';
					echo '</div>';
				}
			?>
		</div>
	</body>
	<script>
		var width = document.body.clientWidth;
		var outside = document.getElementById("outside");
		var nodeList = outside.children;

		for (var i=0;i<nodeList.length;i++) {
			nodeList[i].style.width = width/2 + "px";
			nodeList[i].style.height = width/2 + "px";
			nodeList[i].children[0].children[0].style.width = (width - 20)/2 + "px";
			nodeList[i].children[1].style.marginTop = - (width/4+5) + "px";
		}
	</script> 
</html>